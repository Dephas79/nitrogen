% vim:ts=4 sw=4 et ft=erlang
{cover_enabled, true}.

{erl_opts, [
    debug_info
%    {i,"site/include"}
]}.

{relx, [{release, {{{name}}, "0.0.1" }, [
            sasl,
            %% BACKEND_LOADERS,
            {inets, load},
            {qdate, load},
            {simple_bridge, load},
            {nprocreg, load},
            {nitro_cache, load},
            {nitrogen_core, load},
            {sync, load},
            nitrogen
        ]},
        {sys_config, "etc/autogenerated.config.all"},
        {vm_args, "etc/vm.args"},
        {dev_mode, true},
        {mode, dev},
        {include_erts, {{include_erts}}},
        {extended_start_script, true},
        {overlay, [
            {copy, "site", "site"}
%            {mkdir, "site"},
%            {copy, "site/templates", "site/templates"},
%            {copy, "site/static", "site/static"}
        ]}
       ]
}.


{shell, [
%     {apps, nitrogen},
%     {vm_args, "etc/vm.args"}
]}.

{plugins, [
    rebar3_run
]}.

{deps, [
    %% BACKENDS_DEPS,
    nitrogen_core,
    sync,
]}.
